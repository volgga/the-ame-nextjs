@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Minimalist two-color palette: Warm Beige & Sage Green */
    --background: 40 100% 96%;
    --foreground: 100 15% 25%;

    /* Main green (hex #819570) and darker for buttons/hover */
    --color-green: 100 25% 55%;
    --color-green-dark: 100 18% 44%;

    /* Page background — body, main, pages, footer, ticker */
    --page-bg: #fef8ec;
    /* Ticker: same as page bg, dark text */
    --ticker-bg: #fef8ec;
    --ticker-foreground: #1f2a1f;

    /* Header green blocks: exact colors, no opacity/darkening on background */
    --header-bg: #81946f;
    --header-foreground: #1f2a1f;
    --header-foreground-secondary: rgba(31, 42, 31, 0.65);

    /* Semantic palette (source of truth: do not change) */
    --color-text-main: #1f2a1f;
    --color-text-secondary: rgba(31, 42, 31, 0.65);
    --color-bg-main: #6f8363;
    --color-accent-dark: #5c6d50;

    /* Accent buttons (filled): green как в шапке */
    --color-accent-btn: var(--header-bg);
    --color-accent-btn-hover: #6f8363;
    --color-accent-btn-active: #657957;
    --color-accent-btn-disabled-bg: rgba(31, 42, 31, 0.25);
    --color-accent-btn-disabled-text: rgba(31, 42, 31, 0.5);

    /* Outline / secondary / chip buttons: тёмно-зелёная рамка, как на скрине */
    --color-outline-border: #1f2a1f;
    --color-outline-hover-bg: rgba(31, 42, 31, 0.06);
    --color-outline-active-bg: rgba(31, 42, 31, 0.08);
    /* Chip active state: светло-бежевая заливка */
    --btn-chip-active-bg: #e0ddd5;

    /* Block/table/card borders */
    --color-border-block: rgba(31, 42, 31, 0.25);
    --color-border-block-hover: rgba(31, 42, 31, 0.4);

    /* Badge (cart counter, etc.) */
    --color-badge-bg: #1f2a1f;
    --color-badge-text: #ffffff;

    --card: 42 30% 96%;
    --card-foreground: 100 15% 25%;

    --popover: 42 30% 96%;
    --popover-foreground: 100 15% 25%;

    /* Primary - Sage Green */
    --primary: 100 25% 55%;
    --primary-foreground: 42 30% 96%;
    --primary-soft: 100 20% 88%;
    --primary-dark: 100 18% 44%;

    /* Secondary - Warm Beige */
    --secondary: 42 28% 85%;
    --secondary-foreground: 100 15% 25%;

    /* Muted - Light Beige */
    --muted: 42 25% 90%;
    --muted-foreground: 100 15% 45%;

    /* Accent - Darker Sage */
    --accent: 100 30% 45%;
    --accent-foreground: 42 30% 96%;

    /* Nature colors - simplified */
    --nature-green: 100 25% 55%;
    --nature-pink: 42 28% 75%;
    --nature-coral: 42 30% 70%;
    --nature-lavender: 100 20% 80%;
    --nature-mint: 100 30% 75%;

    /* Hero green - olive green like the image */
    --hero-green: 90 20% 40%;

    /* Minimal gradients */
    --gradient-primary: linear-gradient(180deg, hsl(var(--primary)), hsl(var(--primary-soft)));
    --gradient-secondary: linear-gradient(180deg, hsl(var(--secondary)), hsl(var(--background)));
    --gradient-hero: linear-gradient(180deg, hsl(var(--background)), hsl(var(--secondary)));
    --gradient-card: linear-gradient(180deg, hsl(var(--card)), hsl(var(--muted)));

    /* Subtle shadows */
    --shadow-soft: 0 2px 8px -2px hsl(var(--primary) / 0.08);
    --shadow-elegant: 0 4px 16px -4px hsl(var(--primary) / 0.12);
    --shadow-glow: 0 0 20px hsl(var(--primary) / 0.1);

    /* Smooth animations */
    --transition-smooth: all 0.2s ease-out;
    --transition-spring: all 0.3s ease-out;

    --destructive: 0 65% 55%;
    --destructive-foreground: 42 30% 96%;

    --border: 100 15% 80%;
    --input: 42 25% 90%;
    --ring: 100 25% 55%;

    --radius: 0.5rem;

    --sidebar-background: 42 28% 92%;
    --sidebar-foreground: 100 15% 25%;
    --sidebar-primary: 100 25% 55%;
    --sidebar-primary-foreground: 42 30% 96%;
    --sidebar-accent: 42 25% 90%;
    --sidebar-accent-foreground: 100 15% 25%;
    --sidebar-border: 100 15% 80%;
    --sidebar-ring: 100 25% 55%;
  }

  .dark {
    /* Dark mode minimalist palette */
    --background: 100 15% 8%;
    --foreground: 42 25% 88%;

    --card: 100 15% 10%;
    --card-foreground: 42 25% 88%;

    --popover: 100 15% 10%;
    --popover-foreground: 42 25% 88%;

    --primary: 100 20% 70%;
    --primary-foreground: 100 15% 8%;

    --secondary: 42 15% 18%;
    --secondary-foreground: 42 25% 88%;

    --muted: 100 15% 15%;
    --muted-foreground: 42 20% 65%;

    --accent: 100 25% 60%;
    --accent-foreground: 100 15% 8%;

    --destructive: 0 65% 55%;
    --destructive-foreground: 42 25% 88%;

    --border: 100 15% 20%;
    --input: 100 15% 15%;
    --ring: 100 20% 70%;

    --sidebar-background: 100 15% 8%;
    --sidebar-foreground: 42 25% 88%;
    --sidebar-primary: 100 20% 70%;
    --sidebar-primary-foreground: 100 15% 8%;
    --sidebar-accent: 100 15% 15%;
    --sidebar-accent-foreground: 42 25% 88%;
    --sidebar-border: 100 15% 20%;
    --sidebar-ring: 100 20% 70%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    background-color: var(--page-bg);
    /* Резервируем место под скроллбар — при открытии модалки/корзины overflow:hidden не сдвигает контент (нет layout shift) */
    scrollbar-gutter: stable;
    /* Плавная прокрутка для якорей и programmatic scroll */
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--page-bg);
    @apply text-foreground font-montserrat;
  }

  /* Отключаем smooth scroll при prefers-reduced-motion */
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
}

@layer components {
  /* Accent (filled) button: palette-based colors */
  .btn-accent {
    background-color: var(--color-accent-btn);
    color: #ffffff;
    transition:
      background-color 0.2s ease,
      transform 0.1s ease;
  }
  .btn-accent:hover:not(:disabled) {
    background-color: var(--color-accent-btn-hover);
  }
  .btn-accent:active:not(:disabled) {
    background-color: var(--color-accent-btn-active);
    transform: scale(0.98) translateY(1px);
  }
  .btn-accent:disabled {
    background-color: var(--color-accent-btn-disabled-bg);
    color: var(--color-accent-btn-disabled-text);
  }

  /* Outline / secondary button — pill, белый фон, тёмная рамка */
  .btn-outline {
    border: 1px solid var(--color-outline-border);
    color: var(--color-text-main);
    background: #ffffff;
  }
  .btn-outline:hover:not(:disabled) {
    background-color: var(--color-outline-hover-bg);
  }
  .btn-outline:active:not(:disabled) {
    background-color: var(--color-outline-active-bg);
  }

  /* Product CTA buttons: outline с зелёным hover (как на шапке) */
  .btn-product-cta {
    border: 1px solid var(--color-outline-border);
    color: var(--color-text-main);
    background: #ffffff;
  }
  .btn-product-cta:hover:not(:disabled) {
    background-color: var(--header-bg);
    color: var(--header-foreground);
    border-color: var(--header-bg);
  }
  .btn-product-cta:active:not(:disabled) {
    background-color: var(--color-accent-btn-active);
    color: var(--header-foreground);
    border-color: var(--color-accent-btn-active);
    transform: scale(0.98) translateY(1px);
  }

  /* Favorite button: унифицированный стиль для каталога и product page */
  .btn-favorite {
    width: 2.25rem; /* w-9 */
    height: 2.25rem; /* h-9 */
    border: 1px solid var(--color-outline-border);
    background: #ffffff;
    border-radius: 0.5rem; /* rounded-lg */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
    flex-shrink: 0;
  }
  /* Selected state: светло-зелёный фон (базовое состояние) */
  .btn-favorite.selected {
    background-color: var(--header-bg);
    border-color: var(--color-outline-border);
  }
  /* Hover: заливка светло-зелёным (для невыбранного состояния) */
  .btn-favorite:not(.selected):hover:not(:disabled) {
    background-color: var(--header-bg);
    border-color: var(--header-bg);
  }
  /* Active: press-эффект */
  .btn-favorite:active:not(:disabled) {
    transform: scale(0.98) translateY(1px);
  }
  .btn-favorite.selected:active:not(:disabled) {
    background-color: var(--color-accent-btn-active);
    border-color: var(--color-accent-btn-active);
  }
  /* Focus-visible: кастомный ring в стиле сайта */
  .btn-favorite:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px rgba(31, 42, 31, 0.3),
      0 0 0 4px rgba(31, 42, 31, 0.1);
  }

  /* Catalog icon buttons: круглые кнопки для сердечка и лупы в каталоге */
  .btn-icon-circle {
    width: 2rem; /* w-8 */
    height: 2rem; /* h-8 */
    border: 1px solid var(--color-outline-border);
    background: #ffffff;
    border-radius: 50%; /* rounded-full */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease-out;
    flex-shrink: 0;
  }
  /* Selected state (только для сердечка) */
  .btn-icon-circle.selected {
    background-color: var(--header-bg);
    border-color: var(--color-outline-border);
  }
  /* Hover: заливка светло-зелёным (для невыбранного состояния) */
  .btn-icon-circle:not(.selected):hover:not(:disabled) {
    background-color: var(--header-bg);
    border-color: var(--color-outline-border);
  }
  /* Active: press-эффект */
  .btn-icon-circle:active:not(:disabled) {
    transform: scale(0.97) translateY(1px);
  }
  .btn-icon-circle.selected:active:not(:disabled) {
    background-color: var(--color-accent-btn-active);
    border-color: var(--color-accent-btn-active);
  }
  /* Focus-visible: кастомный ring в стиле сайта */
  .btn-icon-circle:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px rgba(31, 42, 31, 0.3),
      0 0 0 4px rgba(31, 42, 31, 0.1);
  }

  /* Chip/toggle: неактивный = белый, активный = светло-бежевый */
  .btn-chip {
    border: 1px solid var(--color-outline-border);
    color: var(--color-text-main);
    background: #ffffff;
  }
  .btn-chip:hover {
    background-color: var(--color-outline-hover-bg);
  }
  .btn-chip-active {
    background-color: var(--btn-chip-active-bg) !important;
    border-color: var(--color-outline-border);
  }

  /* Карточка товара: hover = цвет как у блока «КАТАЛОГ» (header-bg), active — нажатие */
  .product-cta {
    border-width: 1px;
    transition:
      transform 180ms ease-out,
      background-color 180ms ease-out;
  }
  .product-cta:hover {
    background-color: var(--header-bg);
    border-color: var(--color-outline-border);
  }
  .product-cta:active {
    transform: scale(0.96) translateY(1px);
    background-color: var(--color-outline-active-bg);
  }

  /* Подсветка иконки в шапке после «прилёта» иконки из карточки */
  .fly-landed {
    animation: fly-landed-bounce 350ms ease-out;
  }
  @keyframes fly-landed-bounce {
    0% {
      transform: scale(1);
    }
    45% {
      transform: scale(1.25);
    }
    100% {
      transform: scale(1);
    }
  }

  /* ---------- Product card: image wrapper (clips badges to rounded image) ---------- */
  .productCardImageWrap {
    position: relative;
    overflow: hidden;
    border-radius: 24px;
  }

  /* ---------- Product card: badges wrapper (desktop: чуть ниже по макету) ---------- */
  .productCardBadges {
    position: absolute;
    top: 22px;
    left: 0;
    display: flex;
    flex-direction: column;
    gap: 6px;
    z-index: 3;
    pointer-events: none;
  }

  /* ---------- Product card: shared badge style (peeking effect) — единый цвет, width fit-content, текст по центру ---------- */
  .productCardBadge {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: fit-content;
    max-width: 100%;
    height: 26px;
    padding: 0 12px 0 14px;
    font-size: 11px;
    font-weight: 600;
    line-height: 1;
    letter-spacing: 0.04em;
    border-radius: 0 12px 12px 0;
    margin-left: -8px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
  }
  .productCardBadge::before {
    content: "";
    position: absolute;
    left: -10px;
    top: 0;
    width: 10px;
    height: 100%;
    background: inherit;
  }

  .productCardBadgeNew,
  .productCardBadgeHit {
    background: var(--page-bg);
    color: #1f2a1f;
  }

  .productCardBadgeDiscount {
    background: var(--page-bg);
    color: #1f2a1f;
  }

  @media (max-width: 768px) {
    .productCardBadges {
      top: 10px;
      gap: 4px;
    }
    .productCardBadge {
      height: 23px;
      font-size: 10px;
      padding: 0 10px 0 12px;
      margin-left: -6px;
    }
    .productCardBadge::before {
      left: -8px;
      width: 8px;
    }
  }
}

@layer utilities {
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }

  /* Скрыть полосу прокрутки, оставить скролл (лента «Рекомендуем») */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Бейджи корзины и избранного в хедере: на мобильных позиция (чуть ниже и левее) */
  @media (max-width: 767px) {
    .header-icon-badge {
      top: 10px !important;
      right: 8px !important;
      transform: translate(20%, -25%) !important;
    }
  }

  /* Страница /corporate: высота галереи (увеличена) */
  .corporate-gallery-wrap {
    height: clamp(380px, 52vh, 540px);
  }
  @media (min-width: 1024px) {
    .corporate-gallery-wrap {
      height: clamp(600px, 68vh, 820px);
    }
  }

  /* Компенсация padding для full-width элементов (Hero): mobile 2px, md+ 32px */
  .hero-full-width {
    width: calc(100% + 0.25rem);
  }
  @media (min-width: 768px) {
    .hero-full-width {
      width: calc(100% + 4rem);
    }
  }
}

@layer utilities {
  @keyframes marquee {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }
  .animate-marquee {
    animation: marquee 28s linear infinite;
  }

  /* Плавный crossfade для floating-кружка: ~1.3s, ease-in-out, fade + лёгкий scale */
  .floating-icon-transition {
    transition:
      opacity 1300ms ease-in-out,
      transform 1300ms ease-in-out;
  }

  /* ============================================
     PREMIUM REVEAL ANIMATIONS
     ============================================ */

  /* Page enter: эффект первого входа на сайт */
  .page-enter {
    opacity: 0;
    transform: translateY(6px);
    transition:
      opacity 300ms cubic-bezier(0.2, 0.8, 0.2, 1),
      transform 300ms cubic-bezier(0.2, 0.8, 0.2, 1);
  }
  .page-enter.page-enter--active {
    opacity: 1;
    transform: translateY(0);
  }

  /* Hero reveal: эффект появления hero слайдера слева направо (без затемнения) */
  .hero-reveal {
    opacity: 1;
    transform: translateX(-12px);
    transition:
      opacity 300ms cubic-bezier(0.2, 0.8, 0.2, 1),
      transform 300ms cubic-bezier(0.2, 0.8, 0.2, 1);
  }
  .hero-reveal.hero-reveal--active {
    opacity: 1;
    transform: translateX(0);
  }

  /* Reveal base: базовая анимация появления (премиум, мягче и плавнее) */
  /* На SSR карточки видимы, скрытие применяется только после mount через reveal-ready */
  .reveal {
    opacity: 1;
    transform: translateY(0);
    transition:
      opacity 580ms cubic-bezier(0.16, 1, 0.3, 1),
      transform 580ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  /* Состояние готовности: скрытие применяется только после mount на клиенте */
  /* will-change добавляется только на время анимации для оптимизации */
  .reveal-ready .reveal {
    opacity: 0;
    transform: translateY(9px);
    will-change: transform, opacity;
  }

  .reveal.reveal--in {
    opacity: 1;
    transform: translateY(0);
    /* will-change остается до конца анимации, затем можно убрать через JS (опционально) */
  }

  /* Stagger delay через CSS переменную (премиум, медленнее) */
  .reveal--stagger {
    transition-delay: var(--stagger-delay, 0ms);
  }

  /* Section divider: тонкая линия, почти на всю ширину, сужение только у краёв, тёмно-зелёный */
  .section-divider-line {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--color-text-main) 4%,
      var(--color-text-main) 96%,
      transparent 100%
    );
    transform-origin: center;
    animation: section-divider-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  @keyframes section-divider-in {
    from {
      opacity: 0;
      transform: scaleX(0.6);
    }
    to {
      opacity: 1;
      transform: scaleX(1);
    }
  }

  /* Уважаем prefers-reduced-motion: отключаем все анимации */
  @media (prefers-reduced-motion: reduce) {
    .page-enter,
    .hero-reveal,
    .reveal {
      opacity: 1 !important;
      transform: none !important;
      filter: none !important;
      transition: none !important;
      will-change: auto !important;
    }
    .section-divider-line {
      animation: none;
      opacity: 1;
      transform: none;
    }
    [style*="animation: marquee"] {
      animation: none !important;
    }
  }

  /* Единый PhoneInput (react-phone-input-2) — все формы */
  .phone-input-root .react-tel-input {
    width: 100%;
    font-size: 1rem;
  }
  .phone-input-root .react-tel-input .form-control {
    box-sizing: border-box;
    height: 3rem;
    min-height: 3rem;
    padding-left: 52px;
    width: 100%;
    border-radius: 0.5rem;
    border: 1px solid rgba(31, 42, 31, 0.25);
    color: var(--color-text-main);
    font-size: 0.875rem;
    line-height: 1.5;
  }
  .phone-input-root .react-tel-input .form-control::placeholder {
    color: rgba(31, 42, 31, 0.5);
  }
  .phone-input-root .react-tel-input .form-control:focus {
    border-color: rgba(111, 131, 99, 0.5);
    outline: 2px solid rgba(111, 131, 99, 0.25);
    outline-offset: 0;
    box-shadow: none;
  }
  .phone-input-root.has-error .form-control {
    border-color: rgb(239 68 68);
  }
  .phone-input-root .react-tel-input .flag-dropdown {
    box-sizing: border-box;
    height: 3rem;
    min-height: 3rem;
    border-radius: 0.5rem 0 0 0.5rem;
    border: 1px solid rgba(31, 42, 31, 0.25);
    background-color: #fff;
    display: flex;
    align-items: center;
  }
  .phone-input-root .react-tel-input .selected-flag {
    height: 3rem;
    min-height: 3rem;
    padding-top: 0;
    padding-bottom: 0;
    display: flex;
    align-items: center;
  }
  .phone-input-root .react-tel-input .country-list {
    border-radius: 0.5rem;
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.12);
    border: 1px solid rgba(31, 42, 31, 0.15);
    max-height: 240px;
    z-index: 9999;
  }
  .phone-input-root .react-tel-input .country-list .country {
    padding: 0.5rem 0.75rem;
  }
  .phone-input-root .react-tel-input .country-list .search-box {
    border-radius: 0.375rem;
    border-color: rgba(31, 42, 31, 0.25);
    margin: 0.5rem 0.5rem 0.25rem;
    padding: 0.375rem 0.5rem;
  }

  /* Форма "Намекнуть о подарке": высота телефона = текстовые инпуты (48px), без скачка на focus */
  .gift-hint-form .phone-input-root label {
    margin-bottom: 0.375rem;
  }
  .gift-hint-form .phone-input-root .react-tel-input .form-control {
    height: 3rem;
    min-height: 3rem;
  }
  .gift-hint-form .phone-input-root .react-tel-input .flag-dropdown {
    height: 3rem;
    min-height: 3rem;
  }
  .gift-hint-form .phone-input-root .react-tel-input .selected-flag {
    height: 3rem;
    padding-top: 0;
    padding-bottom: 0;
    align-items: center;
  }
}

/* Стили для редактора блога (TipTap использует .ProseMirror) */
.blog-editor-content .ProseMirror h2 {
  font-size: 1.5rem !important;
  font-weight: 600 !important;
  margin-top: 1.5rem !important;
  margin-bottom: 1rem !important;
  line-height: 1.3 !important;
  color: #000 !important;
}
.blog-editor-content .ProseMirror h3 {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  margin-top: 1.25rem !important;
  margin-bottom: 0.75rem !important;
  line-height: 1.3 !important;
  color: #000 !important;
}
.blog-editor-content .ProseMirror p {
  font-size: 1.125rem !important;
  line-height: 1.75 !important;
  color: #374151 !important;
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}
.blog-editor-content .ProseMirror ul,
.blog-editor-content .ProseMirror ol {
  margin-top: 0.75rem !important;
  margin-bottom: 0.75rem !important;
  padding-left: 1.5rem !important;
}
.blog-editor-content .ProseMirror ul {
  list-style-type: disc !important;
}
.blog-editor-content .ProseMirror ol {
  list-style-type: decimal !important;
}
.blog-editor-content .ProseMirror li {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  color: #374151 !important;
}
.blog-editor-content .ProseMirror strong {
  font-weight: 600 !important;
}
.blog-editor-content .ProseMirror em {
  font-style: italic !important;
}
.blog-editor-content .ProseMirror a {
  color: #6f8363 !important;
  text-decoration: none !important;
}
.blog-editor-content .ProseMirror a:hover {
  text-decoration: underline !important;
}

/* Стили для публичной страницы блога */
.blog-post-content h2 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.3;
  color: #000;
}
.blog-post-content h3 {
  font-size: 1.25rem;
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  line-height: 1.3;
  color: #000;
}
.blog-post-content p {
  font-size: 1.125rem;
  line-height: 1.75;
  color: #374151;
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
}
.blog-post-content ul,
.blog-post-content ol {
  margin-top: 1rem;
  margin-bottom: 1rem;
  padding-left: 1.5rem;
}
.blog-post-content ul {
  list-style-type: disc;
}
.blog-post-content ol {
  list-style-type: decimal;
}
.blog-post-content li {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  color: #374151;
  font-size: 1.125rem;
  line-height: 1.75;
}
.blog-post-content strong {
  font-weight: 600;
}
.blog-post-content em {
  font-style: italic;
}
.blog-post-content a {
  color: #6f8363;
  text-decoration: none;
}
.blog-post-content a:hover {
  text-decoration: underline;
}
.blog-post-content img {
  max-width: 100%;
  height: auto;
  border-radius: 0.5rem;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

/* Бейдж "НОВЫЙ" — эффект внешнего скругления слева, повторяющего радиус карточки (rounded-2xl = 1rem) */
.new-badge {
  position: relative;
  display: inline-block;
  width: fit-content;
  /* Левая сторона без внутреннего скругления - создаем эффект "вытекания" */
  overflow: visible;
}

.new-badge::before {
  content: "";
  position: absolute;
  left: -1rem;
  top: 0;
  width: 1rem;
  height: 1rem;
  background: var(--page-bg);
  /* Внешнее скругление верхнего левого угла, повторяющее радиус карточки */
  border-radius: 1rem 0 0 0;
  z-index: -1;
}

.new-badge::after {
  content: "";
  position: absolute;
  left: -1rem;
  bottom: 0;
  width: 1rem;
  height: 1rem;
  background: var(--page-bg);
  /* Внешнее скругление нижнего левого угла, повторяющее радиус карточки */
  border-radius: 0 0 0 1rem;
  z-index: -1;
}
