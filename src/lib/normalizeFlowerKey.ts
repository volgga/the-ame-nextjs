/**
 * Нормализация ключа цветка для использования в URL и сравнениях.
 * Преобразует название цветка в безопасный ключ для URL.
 *
 * Примеры:
 * - "Розы" -> "розы"
 * - "Гортензия" -> "гортензия"
 * - "Розы (Кения)" -> "розы-кения"
 */

/**
 * Нормализует название цветка в ключ для URL и сравнения.
 * - lowercase
 * - trim
 * - заменяет ё -> е
 * - пробелы и спецсимволы заменяет на дефис
 * - убирает двойные дефисы
 */
export function normalizeFlowerKey(name: string): string {
  if (!name || typeof name !== "string") return "";

  const key = name
    .trim()
    .toLowerCase()
    // Заменяем ё на е
    .replace(/ё/g, "е")
    // Заменяем пробелы и спецсимволы на дефис
    .replace(/[\s\-_.,;:()\[\]{}]+/g, "-")
    // Убираем двойные дефисы
    .replace(/-{2,}/g, "-")
    // Убираем дефисы в начале и конце
    .replace(/^-+|-+$/g, "");

  return key;
}

/**
 * Примеры использования:
 *
 * normalizeFlowerKey("Розы") -> "розы"
 * normalizeFlowerKey("Гортензия") -> "гортензия"
 * normalizeFlowerKey("Розы (Кения)") -> "розы-кения"
 * normalizeFlowerKey("Тюльпаны  ") -> "тюльпаны"
 * normalizeFlowerKey("Розы--Тюльпаны") -> "розы-тюльпаны"
 */
